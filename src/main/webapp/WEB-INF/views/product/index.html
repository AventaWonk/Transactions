<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout/base}">
    <body>
        <main layout:fragment="content">

            <div class="container">
                <h1 class="text-center">List of all existing products</h1>

                <div class="row ">
                    <div class="col-md">
                        <a href="/product/create" class="btn btn-outline-primary btn-sm">
                            Create a new product
                        </a>
                    </div>
                    <div class="col-md-2" th:include="~{layout/fragment/select/limit}"></div>
                </div>

                <div class="row">
                    <table class="table table-md">
                        <thead>
                            <tr>
                                <th class="table-col-id">id</th>
                                <th>Name</th>
                                <th class="table-col-control"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="product : ${products}">
                                <td th:text=${product.id}>id</td>
                                <td th:text=${product.name}>Name</td>
                                <td class="control"
                                    th:include="~{layout/fragment/button/control :: control('product', ${product.id})}">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="row amount-row justify-content-center" th:if="${products.size() == 0}">
                    The table is empty
                </div>

                <div class="row justify-content-center" th:if="${totalPages > 1}"
                     th:include="~{layout/fragment/button/pagination :: pagination('product', ${currentPage}, ${totalPages})}">
                </div>

            </div>
        </main>
    </body>
</html>